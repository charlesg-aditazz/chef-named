; zone configuration file
$TTL 3D
@       IN      SOA     <%= @zone[:id] %> <%= @zone[:root] %> (
                        199609206       ; serial, todays date + todays serial #
                        8H              ; refresh, seconds
                        2H              ; retry, seconds
                        4W              ; expire, seconds
                        1D )            ; minimum, seconds


;
; DNS Records
;
localhost       A       127.0.0.1


;
; Applications DNS
;
; these are the CNAME records from self registering applications.


;
; Nodes
; these are the IP addresses, FQDNs and short host names for all other machines
; this machine is going to be repeated here, but it does not matter since it is
; the first match that counts
<% @hosts.each_with_index do |node, i| %>
<%= @hosts[i]["hostname"] %>        A       <%= @hosts[i]["ipaddress"] %>
<% end %>


